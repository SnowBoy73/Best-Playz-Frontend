<div *ngIf="error$ | async as error" class="warm-text-colour">
  {{error}}
</div>


<div fxLayout="column" *ngIf="!client">
  <div fxLayout="column" fxFlex="80, 80" fxLayoutAlign="center center">
    <mat-card fxFlex="80, 80" fxLayout="column">

      <mat-card-header fxFlex="60px" fxLayoutAlign="center top">
        <mat-card-title style="font-size: xxx-large; font-family: 'American Typewriter'">Welcome to Best Playz</mat-card-title>
      </mat-card-header>

      <mat-card-content fxFlex="100">
        <label>
          Enter nickname:
          <input type="text" [formControl]="loginFC">
        </label>
        <button (click)="login()">Login</button>
        <!--      <mat-form-field class="primary-text-colour" fxFlex="250px">
                <mat-label>Enter Your Nickname</mat-label>
                <input matInput type="text" [formControl]="loginFC">
                <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="login()">
                  <mat-icon>send</mat-icon>
                </button>
              </mat-form-field>
      -->
      </mat-card-content>
    </mat-card>
  </div>
</div>





<div fxLayout="row" fxFlex="80" fxLayoutAlign="center center" *ngIf="client">

  <mat-card fxLayout="column" fxFlex>
    <mat-card-header fxFlex="40px" fxLayoutAlign="center top">
      <h5>Logged in as {{client.nickname}}</h5>
      <mat-card-title style="font-size: xxx-large; font-family: 'American Typewriter'">Best Playz</mat-card-title>
    </mat-card-header>
    <mat-card-content fxFlex="100">


      <div fxLayout="column" fxFlex="40" fxLayoutAlign="center center">
        <mat-card fxFlex="80, 80" fxLayout="column">
          <mat-card-header fxFlex="40px" fxLayoutAlign="center center">
            <mat-card-title style="font-size: large; font-family: 'American Typewriter'">Users Online</mat-card-title>
          </mat-card-header>
          <mat-card-content fxFlex="100">

            <div *ngIf="clients$ | async as clients">
              <ul>
                <li *ngFor="let client of clients">
                  {{client.nickname}}
                </li>
              </ul>
            </div>

          </mat-card-content>
        </mat-card>
      </div>


      <div fxLayout="column" fxFlex="60" fxLayoutAlign="center left">

        <mat-card fxFlex="80, 80" fxLayout="column">
          <mat-card-header fxFlex="40px" fxLayoutAlign="left top">
            <mat-card-title style="font-size: x-large; font-family: 'American Typewriter'">Comments</mat-card-title>
          </mat-card-header>
          <mat-card-content fxFlex="100">
            <mat-list>
              <mat-list-item *ngFor="let comment of comments">
                <mat-icon mat-list-icon>face</mat-icon>
                <div mat-line class="comment-text">{{comment.text}}</div>
                <div span mat-line class="comment-sender-text" style="font-size: x-small">{{comment.sender?.nickname}}  -  {{comment.posted}}
                </div>
              </mat-list-item>
            </mat-list>
            <h4 *ngFor="let comment of comments">
              {{comment.sender.nickname}} -- {{comment.text}}
            </h4>
            <label>
              Comment:
              <input type="text" [formControl]="commentFC">
            </label>
            <h3>{{commentFC.value}}</h3>
            <button (click)="postComment()">Post</button>

          </mat-card-content>
        </mat-card>
      </div>

    </mat-card-content>
  </mat-card>
</div>




