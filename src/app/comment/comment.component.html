<div *ngIf="error$ | async as error" class="warm-text-colour">
  {{error}}
</div>


<div fxLayout="row" fxLayoutAlign="center center" fxFlex *ngIf="!client">
  <mat-card fxFlex="40">

    <mat-card-header fxLayoutAlign="center top">
      <mat-card-title fxLayoutAlign="center top" style="font-size: x-large; font-family: 'American Typewriter'">Welcome to</mat-card-title>
      <mat-card-title style="font-size: xxx-large; font-family: 'American Typewriter'">Best Playz</mat-card-title>
    </mat-card-header>

    <mat-card-content fxLayoutAlign="center top">
      <label>
        Enter nickname:
        <input type="text" [formControl]="loginFC">
      </label>
      <button (click)="login()" mat-raised-button color="accent">Login</button>
      <!--      <mat-form-field class="primary-text-colour" fxFlex="250px">
              <mat-label>Enter Your Nickname</mat-label>
              <input matInput type="text" [formControl]="loginFC">
              <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="login()">
                <mat-icon>send</mat-icon>
              </button>
            </mat-form-field>
    -->
    </mat-card-content>
  </mat-card>
</div>





<div fxLayout="row" fxFlex fxLayoutAlign="center center" *ngIf="client">

  <mat-card fxLayout="column" fxFlex="100,100">
    <mat-card-header fxFlex="40px" fxLayoutAlign="center top">
      <h5>Logged in as {{client.nickname}}</h5>
      <mat-card-title style="font-size: xxx-large; font-family: 'American Typewriter'">Best Playz</mat-card-title>
    </mat-card-header>
    <mat-card-content fxFlex="100">


      <div fxLayout="column" fxFlex="40" fxLayoutAlign="center center">
        <mat-card fxFlex="80, 80" fxLayout="column">
          <mat-card-header fxFlex="40px" fxLayoutAlign="center center">
            <mat-card-title style="font-size: large; font-family: 'American Typewriter'">Users Online</mat-card-title>
          </mat-card-header>
          <mat-card-content fxFlex="100">

            <div *ngIf="clients$ | async as clients">
              <ul>
                <li *ngFor="let client of clients">
                  {{client.nickname}}
                </li>
              </ul>
            </div>

          </mat-card-content>
        </mat-card>
      </div>


      <div fxLayout="column" fxFlex="60" fxLayoutAlign="center left">

        <mat-card fxFlex="80,80" fxLayout="column">
          <mat-card-header fxFlex="40px" fxLayoutAlign="left top">
            <mat-card-title style="font-size: x-large; font-family: 'American Typewriter'">Comments</mat-card-title>
          </mat-card-header>
          <mat-card-content fxFlex="100" fxLayout="column">
            <mat-list fxFlex class="scrollable-mat-list">
              <mat-list-item *ngFor="let comment of comments">
                <mat-icon mat-list-icon>face</mat-icon>
                <div mat-line class="comment-text">{{comment.text}}</div>
                <div mat-line class="comment-sender-text" style="font-size: x-small">{{comment.sender?.nickname}}  -  {{comment.posted}}</div>
                <mat-divider></mat-divider>
              </mat-list-item>
            </mat-list>
            <mat-card-actions>
            <label>
              Comment:
              <input type="text" [formControl]="commentFC">
            </label>
            <button (click)="postComment()">Post</button>
            </mat-card-actions>

          </mat-card-content>
        </mat-card>
      </div>

    </mat-card-content>
  </mat-card>
</div>




